<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/css/main.css">
    <link rel="stylesheet" href="../static/css/PlanList.css">
    <title>JDevList Calendar</title>
</head>
<body>
    <!-- 헤더 영역 -->
    <header>
        <a href="#"><img src="../static/img/logo/JDevList.svg" alt="로고" class="logo"></a>
        <div class="search">
            <form action="#" method="get">
                <!-- placeholder 추후에 바뀔수 있음. -->
                <input type="text" name="t" placeholder="검색어를 입력하세요.">
            </form>
        </div>
        <div class="user-profile">
            <a href="#"><p id="username">User Nickname</p></a>
        </div>
    </header>
    <div class="container">
        <!-- 사이드 바 영역 -->
        <aside class="side-bar">
            <ul>
                <li>
                    <a href="#">
                        <img src="../static/img/icon/dashboard.svg" alt="dashboard">
                        <p>대쉬보드</p>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="../static/img/icon/calendar.svg" alt="Calendar">
                        <p>캘린더</p>   
                    </a>
                </li>
                <li>
                    <a href="/roadmap">
                        <img src="../static/img/icon/map.svg" alt="RoadMap">
                        <p>로드맵</p>
                    </a>
                </li>
                <li>
                    <a href="/discussions">
                        <img src="../static/img/icon/comment.svg" alt="Discussion">
                        <p>질문 게시판</p>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="../static/img/icon/note.svg" alt="Notes">
                        <p>노트</p>
                    </a>
                </li>
                <li>
                    <a href="/help">
                        <img src="../static/img/icon/help.svg" alt="Help">
                        <p>도움말</p>
                    </a>
                </li>
            </ul>
        </aside>
        <!-- 메인 컨텐츠 영역 -->
        <section id="calendar-wrap">
            <div id="calendar"></div>
        </section>

        <nav class="PlanList-container">
            <div class="create-Plan">
                <button onclick="openNewPlan()"><img src="../static/img/icon/Add-white.svg" id="plus&minus"></button>
            </div>
            <div class="Plan-List" id="external-events-list">
                <div class="card" th:each="item : ${planner}">
                    <div class="card-header">
                        <!-- 일정 제목 -->
                        <div class="title">
                            <h3 th:text="${item.title}"></h3>
                        </div>
                    </div>
                    <hr>
                    <div class="card-body">
                        <!-- 일정 상세 내용들 -->
                        <div class="startDate" th:text="${item.getStart()}"></div>
                        <div class="lastDate" th:text="${item.getEnd()}"></div>
                        <div class="content" th:text="${item.getMemo()}"></div>
                    </div>
                </div>
            </div>
        </nav>

        <div class="createPlan-wrap" id="createPlanWrap">
            <form method="post" id="form">
                <div class="title">
                    <h3>제목</h3>
                    <input type="text" placeholder="제목" name="title" id="title">
                </div>
                <div class="dateTime">
                    <div class="DateTime">
                        <h3>시작</h3>
                        <input type="datetime-local" name="start" id="start">
                    </div>
                    <div class="DateTime">
                        <h3>종료</h3>
                        <input type="datetime-local" name="end" id="end">
                    </div>
                    <div class="memo">
                        <h3>메모 내용</h3>
                        <textarea name="memo" id="memo" placeholder="메모 내용은 30자 이내 부탁드립니다."></textarea>
                    </div>
                </div>
                <input type="submit" value="생성" class="submit">
            </form>
        </div>
    </div>

    <script src="../static/calendar.js"></script>
    <script th:inline="javascript">
        if([[${name}]] == null){
            var username = sessionStorage.getItem('username');
            document.getElementById("username").innerHTML=username;
        }else{
            sessionStorage.setItem('username', [[${name}]]);
            document.getElementById("username").innerHTML = [[${name}]];
        }
    </script>
</body>
</html>